{"ast":null,"code":"/**\n    * @license\n    * Copyright 2020 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport { slice, add, div, sub, mul, concat2d, Tensor, tidy, concat, tensor1d, tensor2d, sigmoid, image, browser, env, reshape, stack, abs } from \"@tensorflow/tfjs-core\";\nimport { loadGraphModel } from \"@tensorflow/tfjs-converter\";\n\nconst disposeBox = e => {\n  e.startEndTensor.dispose(), e.startPoint.dispose(), e.endPoint.dispose();\n},\n      createBox = e => ({\n  startEndTensor: e,\n  startPoint: slice(e, [0, 0], [-1, 2]),\n  endPoint: slice(e, [0, 2], [-1, 2])\n}),\n      scaleBox = (e, t) => {\n  const s = mul(e.startPoint, t),\n        o = mul(e.endPoint, t),\n        n = concat2d([s, o], 1);\n  return createBox(n);\n},\n      ANCHORS_CONFIG = {\n  strides: [8, 16],\n  anchors: [2, 6]\n},\n      NUM_LANDMARKS = 6;\n\nfunction generateAnchors(e, t, s) {\n  const o = [];\n\n  for (let n = 0; n < s.strides.length; n++) {\n    const i = s.strides[n],\n          r = Math.floor((t + i - 1) / i),\n          a = Math.floor((e + i - 1) / i),\n          c = s.anchors[n];\n\n    for (let e = 0; e < r; e++) {\n      const t = i * (e + .5);\n\n      for (let e = 0; e < a; e++) {\n        const s = i * (e + .5);\n\n        for (let e = 0; e < c; e++) o.push([s, t]);\n      }\n    }\n  }\n\n  return o;\n}\n\nfunction decodeBounds(e, t, s) {\n  const o = slice(e, [0, 1], [-1, 2]),\n        n = add(o, t),\n        i = slice(e, [0, 3], [-1, 2]),\n        r = div(i, s),\n        a = div(n, s),\n        c = div(r, 2),\n        l = sub(a, c),\n        d = add(a, c),\n        h = mul(l, s),\n        u = mul(d, s);\n  return concat2d([h, u], 1);\n}\n\nfunction getInputTensorDimensions(e) {\n  return e instanceof Tensor ? [e.shape[0], e.shape[1]] : [e.height, e.width];\n}\n\nfunction flipFaceHorizontal(e, t) {\n  let s, o, n;\n\n  if (e.topLeft instanceof Tensor && e.bottomRight instanceof Tensor) {\n    const [i, r] = tidy(() => [concat([sub(t - 1, e.topLeft.slice(0, 1)), e.topLeft.slice(1, 1)]), concat([sub(t - 1, e.bottomRight.slice(0, 1)), e.bottomRight.slice(1, 1)])]);\n    s = i, o = r, null != e.landmarks && (n = tidy(() => {\n      const s = sub(tensor1d([t - 1, 0]), e.landmarks),\n            o = tensor1d([1, -1]);\n      return mul(s, o);\n    }));\n  } else {\n    const [i, r] = e.topLeft,\n          [a, c] = e.bottomRight;\n    s = [t - 1 - i, r], o = [t - 1 - a, c], null != e.landmarks && (n = e.landmarks.map(e => [t - 1 - e[0], e[1]]));\n  }\n\n  const i = {\n    topLeft: s,\n    bottomRight: o\n  };\n  return null != n && (i.landmarks = n), null != e.probability && (i.probability = e.probability instanceof Tensor ? e.probability.clone() : e.probability), i;\n}\n\nfunction scaleBoxFromPrediction(e, t) {\n  return tidy(() => {\n    let s;\n    return s = e.hasOwnProperty(\"box\") ? e.box : e, scaleBox(s, t).startEndTensor.squeeze();\n  });\n}\n\nclass BlazeFaceModel {\n  constructor(e, t, s, o, n, i) {\n    this.blazeFaceModel = e, this.width = t, this.height = s, this.maxFaces = o, this.anchorsData = generateAnchors(t, s, ANCHORS_CONFIG), this.anchors = tensor2d(this.anchorsData), this.inputSizeData = [t, s], this.inputSize = tensor1d([t, s]), this.iouThreshold = n, this.scoreThreshold = i;\n  }\n\n  async getBoundingBoxes(e, t, s = !0) {\n    const [o, n, i] = tidy(() => {\n      const t = e.resizeBilinear([this.width, this.height]),\n            s = mul(sub(t.div(255), .5), 2),\n            o = this.blazeFaceModel.predict(s).squeeze(),\n            n = decodeBounds(o, this.anchors, this.inputSize),\n            i = slice(o, [0, 0], [-1, 1]);\n      return [o, n, sigmoid(i).squeeze()];\n    }),\n          r = console.warn;\n\n    console.warn = () => {};\n\n    const a = image.nonMaxSuppression(n, i, this.maxFaces, this.iouThreshold, this.scoreThreshold);\n    console.warn = r;\n    const c = await a.array();\n    a.dispose();\n    let l = c.map(e => slice(n, [e, 0], [1, -1]));\n    t || (l = await Promise.all(l.map(async e => {\n      const t = await e.array();\n      return e.dispose(), t;\n    })));\n    const d = e.shape[1],\n          h = e.shape[2];\n    let u;\n    u = t ? div([h, d], this.inputSize) : [h / this.inputSizeData[0], d / this.inputSizeData[1]];\n    const p = [];\n\n    for (let e = 0; e < l.length; e++) {\n      const n = l[e],\n            r = tidy(() => {\n        const r = createBox(n instanceof Tensor ? n : tensor2d(n));\n        if (!s) return r;\n        const a = c[e];\n        let l;\n        return l = t ? this.anchors.slice([a, 0], [1, 2]) : this.anchorsData[a], {\n          box: r,\n          landmarks: slice(o, [a, NUM_LANDMARKS - 1], [1, -1]).squeeze().reshape([NUM_LANDMARKS, -1]),\n          probability: slice(i, [a], [1]),\n          anchor: l\n        };\n      });\n      p.push(r);\n    }\n\n    return n.dispose(), i.dispose(), o.dispose(), {\n      boxes: p,\n      scaleFactor: u\n    };\n  }\n\n  async estimateFaces(e, t = !1, s = !1, o = !0) {\n    const [, n] = getInputTensorDimensions(e),\n          i = tidy(() => (e instanceof Tensor || (e = browser.fromPixels(e)), e.toFloat().expandDims(0))),\n          {\n      boxes: r,\n      scaleFactor: a\n    } = await this.getBoundingBoxes(i, t, o);\n    return i.dispose(), t ? r.map(e => {\n      const t = scaleBoxFromPrediction(e, a);\n      let i = {\n        topLeft: t.slice([0], [2]),\n        bottomRight: t.slice([2], [2])\n      };\n\n      if (o) {\n        const {\n          landmarks: t,\n          probability: s,\n          anchor: o\n        } = e,\n              n = t.add(o).mul(a);\n        i.landmarks = n, i.probability = s;\n      }\n\n      return s && (i = flipFaceHorizontal(i, n)), i;\n    }) : Promise.all(r.map(async e => {\n      const t = scaleBoxFromPrediction(e, a);\n      let i;\n\n      if (o) {\n        const [s, o, n] = await Promise.all([e.landmarks, t, e.probability].map(async e => e.array())),\n              r = e.anchor,\n              [c, l] = a,\n              d = s.map(e => [(e[0] + r[0]) * c, (e[1] + r[1]) * l]);\n        i = {\n          topLeft: o.slice(0, 2),\n          bottomRight: o.slice(2),\n          landmarks: d,\n          probability: n\n        }, disposeBox(e.box), e.landmarks.dispose(), e.probability.dispose();\n      } else {\n        const e = await t.array();\n        i = {\n          topLeft: e.slice(0, 2),\n          bottomRight: e.slice(2)\n        };\n      }\n\n      return t.dispose(), s && (i = flipFaceHorizontal(i, n)), i;\n    }));\n  }\n\n}\n\nconst BLAZEFACE_MODEL_URL = \"https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1\";\n\nasync function load({\n  maxFaces: e = 10,\n  inputWidth: t = 128,\n  inputHeight: s = 128,\n  iouThreshold: o = .3,\n  scoreThreshold: n = .75\n} = {}) {\n  const i = await loadGraphModel(BLAZEFACE_MODEL_URL, {\n    fromTFHub: !0\n  });\n  return new BlazeFaceModel(i, t, s, e, o, n);\n}\n\nconst MESH_ANNOTATIONS = {\n  silhouette: [10, 338, 297, 332, 284, 251, 389, 356, 454, 323, 361, 288, 397, 365, 379, 378, 400, 377, 152, 148, 176, 149, 150, 136, 172, 58, 132, 93, 234, 127, 162, 21, 54, 103, 67, 109],\n  lipsUpperOuter: [61, 185, 40, 39, 37, 0, 267, 269, 270, 409, 291],\n  lipsLowerOuter: [146, 91, 181, 84, 17, 314, 405, 321, 375, 291],\n  lipsUpperInner: [78, 191, 80, 81, 82, 13, 312, 311, 310, 415, 308],\n  lipsLowerInner: [78, 95, 88, 178, 87, 14, 317, 402, 318, 324, 308],\n  rightEyeUpper0: [246, 161, 160, 159, 158, 157, 173],\n  rightEyeLower0: [33, 7, 163, 144, 145, 153, 154, 155, 133],\n  rightEyeUpper1: [247, 30, 29, 27, 28, 56, 190],\n  rightEyeLower1: [130, 25, 110, 24, 23, 22, 26, 112, 243],\n  rightEyeUpper2: [113, 225, 224, 223, 222, 221, 189],\n  rightEyeLower2: [226, 31, 228, 229, 230, 231, 232, 233, 244],\n  rightEyeLower3: [143, 111, 117, 118, 119, 120, 121, 128, 245],\n  rightEyebrowUpper: [156, 70, 63, 105, 66, 107, 55, 193],\n  rightEyebrowLower: [35, 124, 46, 53, 52, 65],\n  leftEyeUpper0: [466, 388, 387, 386, 385, 384, 398],\n  leftEyeLower0: [263, 249, 390, 373, 374, 380, 381, 382, 362],\n  leftEyeUpper1: [467, 260, 259, 257, 258, 286, 414],\n  leftEyeLower1: [359, 255, 339, 254, 253, 252, 256, 341, 463],\n  leftEyeUpper2: [342, 445, 444, 443, 442, 441, 413],\n  leftEyeLower2: [446, 261, 448, 449, 450, 451, 452, 453, 464],\n  leftEyeLower3: [372, 340, 346, 347, 348, 349, 350, 357, 465],\n  leftEyebrowUpper: [383, 300, 293, 334, 296, 336, 285, 417],\n  leftEyebrowLower: [265, 353, 276, 283, 282, 295],\n  midwayBetweenEyes: [168],\n  noseTip: [1],\n  noseBottom: [2],\n  noseRightCorner: [98],\n  noseLeftCorner: [327],\n  rightCheek: [205],\n  leftCheek: [425]\n};\n\nfunction disposeBox$1(e) {\n  null != e && null != e.startPoint && (e.startEndTensor.dispose(), e.startPoint.dispose(), e.endPoint.dispose());\n}\n\nfunction createBox$1(e, t, s) {\n  return {\n    startEndTensor: e,\n    startPoint: null != t ? t : slice(e, [0, 0], [-1, 2]),\n    endPoint: null != s ? s : slice(e, [0, 2], [-1, 2])\n  };\n}\n\nfunction scaleBoxCoordinates(e, t) {\n  const s = mul(e.startPoint, t),\n        o = mul(e.endPoint, t);\n  return createBox$1(concat2d([s, o], 1));\n}\n\nfunction getBoxSize(e) {\n  return tidy(() => {\n    const t = sub(e.endPoint, e.startPoint);\n    return abs(t);\n  });\n}\n\nfunction getBoxCenter(e) {\n  return tidy(() => {\n    const t = div(sub(e.endPoint, e.startPoint), 2);\n    return add(e.startPoint, t);\n  });\n}\n\nfunction cutBoxFromImageAndResize(e, t, s) {\n  const o = t.shape[1],\n        n = t.shape[2],\n        i = e.startEndTensor;\n  return tidy(() => {\n    const e = concat2d([i.slice([0, 1], [-1, 1]), i.slice([0, 0], [-1, 1]), i.slice([0, 3], [-1, 1]), i.slice([0, 2], [-1, 1])], 0),\n          r = div(e.transpose(), [o, n, o, n]);\n    return image.cropAndResize(t, r, [0], s);\n  });\n}\n\nfunction enlargeBox(e, t = 1.5) {\n  return tidy(() => {\n    const s = getBoxCenter(e),\n          o = getBoxSize(e),\n          n = mul(div(o, 2), t),\n          i = sub(s, n),\n          r = add(s, n);\n    return createBox$1(concat2d([i, r], 1), i, r);\n  });\n}\n\nconst LANDMARKS_COUNT = 468,\n      UPDATE_REGION_OF_INTEREST_IOU_THRESHOLD = .25;\n\nclass Pipeline {\n  constructor(e, t, s, o, n, i) {\n    this.regionsOfInterest = [], this.runsWithoutFaceDetector = 0, this.boundingBoxDetector = e, this.meshDetector = t, this.meshWidth = s, this.meshHeight = o, this.maxContinuousChecks = n, this.maxFaces = i;\n  }\n\n  async predict(e) {\n    if (this.shouldUpdateRegionsOfInterest()) {\n      const t = !0,\n            s = !1,\n            {\n        boxes: o,\n        scaleFactor: n\n      } = await this.boundingBoxDetector.getBoundingBoxes(e, t, s);\n      if (0 === o.length) return n.dispose(), this.clearAllRegionsOfInterest(), null;\n      const i = o.map(e => enlargeBox(scaleBoxCoordinates(e, n)));\n      o.forEach(disposeBox$1), this.updateRegionsOfInterest(i), this.runsWithoutFaceDetector = 0;\n    } else this.runsWithoutFaceDetector++;\n\n    return tidy(() => this.regionsOfInterest.map((t, s) => {\n      const o = cutBoxFromImageAndResize(t, e, [this.meshHeight, this.meshWidth]).div(255),\n            [, n, i] = this.meshDetector.predict(o),\n            r = reshape(i, [-1, 3]),\n            a = div(getBoxSize(t), [this.meshWidth, this.meshHeight]),\n            c = mul(r, a.concat(tensor2d([1], [1, 1]), 1)).add(t.startPoint.concat(tensor2d([0], [1, 1]), 1)),\n            l = this.calculateLandmarksBoundingBox(c);\n      return disposeBox$1(this.regionsOfInterest[s]), this.regionsOfInterest[s] = l, {\n        coords: r,\n        scaledCoords: c,\n        box: l,\n        flag: n.squeeze()\n      };\n    }));\n  }\n\n  updateRegionsOfInterest(e) {\n    for (let t = 0; t < e.length; t++) {\n      const s = e[t],\n            o = this.regionsOfInterest[t];\n      let n = 0;\n\n      if (o && o.startPoint) {\n        const [e, t, i, r] = s.startEndTensor.arraySync()[0],\n              [a, c, l, d] = o.startEndTensor.arraySync()[0],\n              h = Math.max(e, a),\n              u = Math.max(t, c),\n              p = (Math.min(i, l) - h) * (Math.min(r, d) - u);\n        n = p / ((i - e) * (r - t) + (l - a) * (d - t) - p);\n      }\n\n      n > UPDATE_REGION_OF_INTEREST_IOU_THRESHOLD ? disposeBox$1(s) : (this.regionsOfInterest[t] = s, disposeBox$1(o));\n    }\n\n    for (let t = e.length; t < this.regionsOfInterest.length; t++) disposeBox$1(this.regionsOfInterest[t]);\n\n    this.regionsOfInterest = this.regionsOfInterest.slice(0, e.length);\n  }\n\n  clearRegionOfInterest(e) {\n    null != this.regionsOfInterest[e] && (disposeBox$1(this.regionsOfInterest[e]), this.regionsOfInterest = [...this.regionsOfInterest.slice(0, e), ...this.regionsOfInterest.slice(e + 1)]);\n  }\n\n  clearAllRegionsOfInterest() {\n    for (let e = 0; e < this.regionsOfInterest.length; e++) disposeBox$1(this.regionsOfInterest[e]);\n\n    this.regionsOfInterest = [];\n  }\n\n  shouldUpdateRegionsOfInterest() {\n    const e = this.regionsOfInterest.length,\n          t = 0 === e;\n    return 1 === this.maxFaces || t ? t : e !== this.maxFaces && this.runsWithoutFaceDetector >= this.maxContinuousChecks;\n  }\n\n  calculateLandmarksBoundingBox(e) {\n    const t = e.slice([0, 0], [LANDMARKS_COUNT, 1]),\n          s = e.slice([0, 1], [LANDMARKS_COUNT, 1]);\n    return enlargeBox(createBox$1(stack([t.min(), s.min(), t.max(), s.max()]).expandDims(0)));\n  }\n\n}\n\nconst UV_COORDS = [[.499976992607117, .652534008026123], [.500025987625122, .547487020492554], [.499974012374878, .602371990680695], [.482113003730774, .471979022026062], [.500150978565216, .527155995368958], [.499909996986389, .498252987861633], [.499523013830185, .40106201171875], [.289712011814117, .380764007568359], [.499954998493195, .312398016452789], [.499987006187439, .269918978214264], [.500023007392883, .107050001621246], [.500023007392883, .666234016418457], [.5000159740448, .679224014282227], [.500023007392883, .692348003387451], [.499976992607117, .695277988910675], [.499976992607117, .70593398809433], [.499976992607117, .719385027885437], [.499976992607117, .737019002437592], [.499967992305756, .781370997428894], [.499816000461578, .562981009483337], [.473773002624512, .573909997940063], [.104906998574734, .254140973091125], [.365929991006851, .409575998783112], [.338757991790771, .41302502155304], [.311120003461838, .409460008144379], [.274657994508743, .389131009578705], [.393361985683441, .403706014156342], [.345234006643295, .344011008739471], [.370094001293182, .346076011657715], [.319321990013123, .347265005111694], [.297903001308441, .353591024875641], [.24779200553894, .410809993743896], [.396889001131058, .842755019664764], [.280097991228104, .375599980354309], [.106310002505779, .399955987930298], [.2099249958992, .391353011131287], [.355807989835739, .534406006336212], [.471751004457474, .65040397644043], [.474155008792877, .680191993713379], [.439785003662109, .657229006290436], [.414617002010345, .66654098033905], [.450374007225037, .680860996246338], [.428770989179611, .682690978050232], [.374971002340317, .727805018424988], [.486716985702515, .547628998756409], [.485300987958908, .527395009994507], [.257764995098114, .314490020275116], [.401223003864288, .455172002315521], [.429818987846375, .548614978790283], [.421351999044418, .533740997314453], [.276895999908447, .532056987285614], [.483370006084442, .499586999416351], [.33721199631691, .282882988452911], [.296391993761063, .293242990970612], [.169294998049736, .193813979625702], [.447580009698868, .302609980106354], [.392390012741089, .353887975215912], [.354490011930466, .696784019470215], [.067304998636246, .730105042457581], [.442739009857178, .572826027870178], [.457098007202148, .584792017936707], [.381974011659622, .694710969924927], [.392388999462128, .694203019142151], [.277076005935669, .271932005882263], [.422551989555359, .563233017921448], [.385919004678726, .281364023685455], [.383103013038635, .255840003490448], [.331431001424789, .119714021682739], [.229923993349075, .232002973556519], [.364500999450684, .189113974571228], [.229622006416321, .299540996551514], [.173287004232407, .278747975826263], [.472878992557526, .666198015213013], [.446828007698059, .668527007102966], [.422762006521225, .673889994621277], [.445307999849319, .580065965652466], [.388103008270264, .693961024284363], [.403039008378983, .706539988517761], [.403629004955292, .693953037261963], [.460041999816895, .557139039039612], [.431158006191254, .692366003990173], [.452181994915009, .692366003990173], [.475387006998062, .692366003990173], [.465828001499176, .779190003871918], [.472328990697861, .736225962638855], [.473087012767792, .717857003211975], [.473122000694275, .704625964164734], [.473033010959625, .695277988910675], [.427942007780075, .695277988910675], [.426479011774063, .703539967536926], [.423162013292313, .711845993995667], [.4183090031147, .720062971115112], [.390094995498657, .639572978019714], [.013953999616206, .560034036636353], [.499913990497589, .58014702796936], [.413199990987778, .69539999961853], [.409626007080078, .701822996139526], [.468080013990402, .601534962654114], [.422728985548019, .585985004901886], [.463079988956451, .593783974647522], [.37211999297142, .47341400384903], [.334562003612518, .496073007583618], [.411671012639999, .546965003013611], [.242175996303558, .14767599105835], [.290776997804642, .201445996761322], [.327338010072708, .256527006626129], [.399509996175766, .748921036720276], [.441727995872498, .261676013469696], [.429764986038208, .187834024429321], [.412198007106781, .108901023864746], [.288955003023148, .398952007293701], [.218936994671822, .435410976409912], [.41278201341629, .398970007896423], [.257135003805161, .355440020561218], [.427684992551804, .437960982322693], [.448339998722076, .536936044692993], [.178560003638268, .45755398273468], [.247308000922203, .457193970680237], [.286267012357712, .467674970626831], [.332827985286713, .460712015628815], [.368755996227264, .447206974029541], [.398963987827301, .432654976844788], [.476410001516342, .405806005001068], [.189241006970406, .523923993110657], [.228962004184723, .348950982093811], [.490725994110107, .562400996685028], [.404670000076294, .485132992267609], [.019469000399113, .401564002037048], [.426243007183075, .420431017875671], [.396993011236191, .548797011375427], [.266469985246658, .376977026462555], [.439121007919312, .51895797252655], [.032313998788595, .644356966018677], [.419054001569748, .387154996395111], [.462783008813858, .505746960639954], [.238978996872902, .779744982719421], [.198220998048782, .831938028335571], [.107550002634525, .540755033493042], [.183610007166862, .740257024765015], [.134409993886948, .333683013916016], [.385764002799988, .883153975009918], [.490967005491257, .579378008842468], [.382384985685349, .508572995662689], [.174399003386497, .397670984268188], [.318785011768341, .39623498916626], [.343364000320435, .400596976280212], [.396100014448166, .710216999053955], [.187885001301765, .588537991046906], [.430987000465393, .944064974784851], [.318993002176285, .898285031318665], [.266247987747192, .869701027870178], [.500023007392883, .190576016902924], [.499976992607117, .954452991485596], [.366169989109039, .398822009563446], [.393207013607025, .39553701877594], [.410373002290726, .391080021858215], [.194993004202843, .342101991176605], [.388664990663528, .362284004688263], [.365961998701096, .355970978736877], [.343364000320435, .355356991291046], [.318785011768341, .35834002494812], [.301414996385574, .363156020641327], [.058132998645306, .319076001644135], [.301414996385574, .387449026107788], [.499987989664078, .618434011936188], [.415838003158569, .624195992946625], [.445681989192963, .566076993942261], [.465844005346298, .620640993118286], [.49992299079895, .351523995399475], [.288718998432159, .819945991039276], [.335278987884521, .852819979190826], [.440512001514435, .902418971061707], [.128294005990028, .791940987110138], [.408771991729736, .373893976211548], [.455606997013092, .451801002025604], [.499877005815506, .908990025520325], [.375436991453171, .924192011356354], [.11421000212431, .615022003650665], [.448662012815475, .695277988910675], [.4480200111866, .704632043838501], [.447111994028091, .715808033943176], [.444831997156143, .730794012546539], [.430011987686157, .766808986663818], [.406787008047104, .685672998428345], [.400738000869751, .681069016456604], [.392399996519089, .677703022956848], [.367855995893478, .663918972015381], [.247923001646996, .601333022117615], [.452769994735718, .420849978923798], [.43639200925827, .359887003898621], [.416164010763168, .368713974952698], [.413385987281799, .692366003990173], [.228018000721931, .683571994304657], [.468268007040024, .352671027183533], [.411361992359161, .804327011108398], [.499989002943039, .469825029373169], [.479153990745544, .442654013633728], [.499974012374878, .439637005329132], [.432112008333206, .493588984012604], [.499886006116867, .866917014122009], [.49991300702095, .821729004383087], [.456548988819122, .819200992584229], [.344549000263214, .745438992977142], [.37890899181366, .574010014533997], [.374292999505997, .780184984207153], [.319687992334366, .570737957954407], [.357154995203018, .604269981384277], [.295284003019333, .621580958366394], [.447750002145767, .862477004528046], [.410986006259918, .508723020553589], [.31395098567009, .775308012962341], [.354128003120422, .812552988529205], [.324548006057739, .703992962837219], [.189096003770828, .646299958229065], [.279776990413666, .71465802192688], [.1338230073452, .682700991630554], [.336768001317978, .644733011722565], [.429883986711502, .466521978378296], [.455527991056442, .548622965812683], [.437114000320435, .558896005153656], [.467287987470627, .529924988746643], [.414712011814117, .335219979286194], [.37704598903656, .322777986526489], [.344107985496521, .320150971412659], [.312875986099243, .32233202457428], [.283526003360748, .333190023899078], [.241245999932289, .382785975933075], [.102986000478268, .468762993812561], [.267612010240555, .424560010433197], [.297879010438919, .433175981044769], [.333433985710144, .433878004550934], [.366427004337311, .426115989685059], [.396012008190155, .416696012020111], [.420121014118195, .41022801399231], [.007561000064015, .480777025222778], [.432949006557465, .569517970085144], [.458638995885849, .479089021682739], [.473466008901596, .545744001865387], [.476087987422943, .563830018043518], [.468472003936768, .555056989192963], [.433990985155106, .582361996173859], [.483518004417419, .562983989715576], [.482482999563217, .57784903049469], [.42645001411438, .389798998832703], [.438998997211456, .39649498462677], [.450067013502121, .400434017181396], [.289712011814117, .368252992630005], [.276670008897781, .363372981548309], [.517862021923065, .471948027610779], [.710287988185883, .380764007568359], [.526226997375488, .573909997940063], [.895093023777008, .254140973091125], [.634069979190826, .409575998783112], [.661242008209229, .41302502155304], [.688880026340485, .409460008144379], [.725341975688934, .389131009578705], [.606630027294159, .40370500087738], [.654766023159027, .344011008739471], [.629905998706818, .346076011657715], [.680678009986877, .347265005111694], [.702096998691559, .353591024875641], [.75221198797226, .410804986953735], [.602918028831482, .842862963676453], [.719901978969574, .375599980354309], [.893692970275879, .399959981441498], [.790081977844238, .391354024410248], [.643998026847839, .534487962722778], [.528249025344849, .65040397644043], [.525849997997284, .680191040039062], [.560214996337891, .657229006290436], [.585384011268616, .66654098033905], [.549625992774963, .680860996246338], [.57122802734375, .682691991329193], [.624852001667023, .72809898853302], [.513050019741058, .547281980514526], [.51509702205658, .527251958847046], [.742246985435486, .314507007598877], [.598631024360657, .454979002475739], [.570338010787964, .548575043678284], [.578631997108459, .533622980117798], [.723087012767792, .532054007053375], [.516445994377136, .499638974666595], [.662801027297974, .282917976379395], [.70362401008606, .293271005153656], [.830704987049103, .193813979625702], [.552385985851288, .302568018436432], [.607609987258911, .353887975215912], [.645429015159607, .696707010269165], [.932694971561432, .730105042457581], [.557260990142822, .572826027870178], [.542901992797852, .584792017936707], [.6180260181427, .694710969924927], [.607590973377228, .694203019142151], [.722943007946014, .271963000297546], [.577413976192474, .563166975975037], [.614082992076874, .281386971473694], [.616907000541687, .255886018276215], [.668509006500244, .119913995265961], [.770092010498047, .232020974159241], [.635536015033722, .189248979091644], [.77039098739624, .299556016921997], [.826722025871277, .278755009174347], [.527121007442474, .666198015213013], [.553171992301941, .668527007102966], [.577238023281097, .673889994621277], [.554691970348358, .580065965652466], [.611896991729736, .693961024284363], [.59696102142334, .706539988517761], [.596370995044708, .693953037261963], [.539958000183105, .557139039039612], [.568841993808746, .692366003990173], [.547818005084991, .692366003990173], [.52461302280426, .692366003990173], [.534089982509613, .779141008853912], [.527670979499817, .736225962638855], [.526912987232208, .717857003211975], [.526877999305725, .704625964164734], [.526966989040375, .695277988910675], [.572058022022247, .695277988910675], [.573521018028259, .703539967536926], [.57683801651001, .711845993995667], [.581691026687622, .720062971115112], [.609944999217987, .639909982681274], [.986046016216278, .560034036636353], [.5867999792099, .69539999961853], [.590372025966644, .701822996139526], [.531915009021759, .601536989212036], [.577268004417419, .585934996604919], [.536915004253387, .593786001205444], [.627542972564697, .473352015018463], [.665585994720459, .495950996875763], [.588353991508484, .546862006187439], [.757824003696442, .14767599105835], [.709249973297119, .201507985591888], [.672684013843536, .256581008434296], [.600408971309662, .74900496006012], [.55826598405838, .261672019958496], [.570303976535797, .187870979309082], [.588165998458862, .109044015407562], [.711045026779175, .398952007293701], [.781069993972778, .435405015945435], [.587247014045715, .398931980133057], [.742869973182678, .355445981025696], [.572156012058258, .437651991844177], [.55186802148819, .536570012569427], [.821442008018494, .457556009292603], [.752701997756958, .457181990146637], [.71375697851181, .467626988887787], [.66711300611496, .460672974586487], [.631101012229919, .447153985500336], [.6008620262146, .432473003864288], [.523481011390686, .405627012252808], [.810747981071472, .523926019668579], [.771045982837677, .348959028720856], [.509127020835876, .562718033790588], [.595292985439301, .485023975372314], [.980530977249146, .401564002037048], [.573499977588654, .420000016689301], [.602994978427887, .548687994480133], [.733529984951019, .376977026462555], [.560611009597778, .519016981124878], [.967685997486115, .644356966018677], [.580985009670258, .387160003185272], [.537728011608124, .505385041236877], [.760966002941132, .779752969741821], [.801778972148895, .831938028335571], [.892440974712372, .54076099395752], [.816350996494293, .740260004997253], [.865594983100891, .333687007427216], [.614073991775513, .883246004581451], [.508952975273132, .579437971115112], [.617941975593567, .508316040039062], [.825608015060425, .397674977779388], [.681214988231659, .39623498916626], [.656635999679565, .400596976280212], [.603900015354156, .710216999053955], [.81208598613739, .588539004325867], [.56801301240921, .944564998149872], [.681007981300354, .898285031318665], [.733752012252808, .869701027870178], [.633830010890961, .398822009563446], [.606792986392975, .39553701877594], [.589659988880157, .391062021255493], [.805015981197357, .342108011245728], [.611334979534149, .362284004688263], [.634037971496582, .355970978736877], [.656635999679565, .355356991291046], [.681214988231659, .35834002494812], [.698584973812103, .363156020641327], [.941866993904114, .319076001644135], [.698584973812103, .387449026107788], [.584177017211914, .624107003211975], [.554318010807037, .566076993942261], [.534153997898102, .62064003944397], [.711217999458313, .819975018501282], [.664629995822906, .852871000766754], [.559099972248077, .902631998062134], [.871706008911133, .791940987110138], [.591234028339386, .373893976211548], [.544341027736664, .451583981513977], [.624562978744507, .924192011356354], [.88577002286911, .615028977394104], [.551338016986847, .695277988910675], [.551980018615723, .704632043838501], [.552887976169586, .715808033943176], [.555167973041534, .730794012546539], [.569944024085999, .767035007476807], [.593203008174896, .685675978660583], [.599261999130249, .681069016456604], [.607599973678589, .677703022956848], [.631937980651855, .663500010967255], [.752032995223999, .601315021514893], [.547226011753082, .420395016670227], [.563543975353241, .359827995300293], [.583841025829315, .368713974952698], [.586614012718201, .692366003990173], [.771915018558502, .683578014373779], [.531597018241882, .352482974529266], [.588370978832245, .804440975189209], [.52079701423645, .442565023899078], [.567984998226166, .493479013442993], [.543282985687256, .819254994392395], [.655317008495331, .745514988899231], [.621008992195129, .574018001556396], [.625559985637665, .78031200170517], [.680198013782501, .570719003677368], [.64276397228241, .604337990283966], [.704662978649139, .621529996395111], [.552012026309967, .862591981887817], [.589071989059448, .508637011051178], [.685944974422455, .775357007980347], [.645735025405884, .812640011310577], [.675342977046967, .703978002071381], [.810858011245728, .646304965019226], [.72012197971344, .714666962623596], [.866151988506317, .682704985141754], [.663187026977539, .644596993923187], [.570082008838654, .466325998306274], [.544561982154846, .548375964164734], [.562758982181549, .558784961700439], [.531987011432648, .530140042304993], [.585271000862122, .335177004337311], [.622952997684479, .32277899980545], [.655896008014679, .320163011550903], [.687132000923157, .322345972061157], [.716481983661652, .333200991153717], [.758756995201111, .382786989212036], [.897013008594513, .468769013881683], [.732392013072968, .424547016620636], [.70211398601532, .433162987232208], [.66652500629425, .433866024017334], [.633504986763, .426087975502014], [.603875994682312, .416586995124817], [.579657971858978, .409945011138916], [.992439985275269, .480777025222778], [.567192018032074, .569419980049133], [.54136598110199, .478899002075195], [.526564002037048, .546118021011353], [.523913025856018, .563830018043518], [.531529009342194, .555056989192963], [.566035985946655, .582329034805298], [.51631098985672, .563053965568542], [.5174720287323, .577877044677734], [.573594987392426, .389806985855103], [.560697972774506, .395331978797913], [.549755990505219, .399751007556915], [.710287988185883, .368252992630005], [.723330020904541, .363372981548309]],\n      FACEMESH_GRAPHMODEL_PATH = \"https://tfhub.dev/mediapipe/tfjs-model/facemesh/1/default/1\",\n      MESH_MODEL_INPUT_WIDTH = 192,\n      MESH_MODEL_INPUT_HEIGHT = 192;\n\nasync function load$1({\n  maxContinuousChecks: e = 5,\n  detectionConfidence: t = .9,\n  maxFaces: s = 10,\n  iouThreshold: o = .3,\n  scoreThreshold: n = .75\n} = {}) {\n  const [i, r] = await Promise.all([loadDetectorModel(s, o, n), loadMeshModel()]);\n  return new FaceMesh(i, r, e, t, s);\n}\n\nasync function loadDetectorModel(e, t, s) {\n  return load({\n    maxFaces: e,\n    iouThreshold: t,\n    scoreThreshold: s\n  });\n}\n\nasync function loadMeshModel() {\n  return loadGraphModel(FACEMESH_GRAPHMODEL_PATH, {\n    fromTFHub: !0\n  });\n}\n\nfunction getInputTensorDimensions$1(e) {\n  return e instanceof Tensor ? [e.shape[0], e.shape[1]] : [e.height, e.width];\n}\n\nfunction flipFaceHorizontal$1(e, t) {\n  if (e.mesh instanceof Tensor) {\n    const [s, o, n, i] = tidy(() => {\n      const s = tensor1d([t - 1, 0, 0]),\n            o = tensor1d([1, -1, 1]);\n      return tidy(() => [concat([sub(t - 1, e.boundingBox.topLeft.slice(0, 1)), e.boundingBox.topLeft.slice(1, 1)]), concat([sub(t - 1, e.boundingBox.bottomRight.slice(0, 1)), e.boundingBox.bottomRight.slice(1, 1)]), sub(s, e.mesh).mul(o), sub(s, e.scaledMesh).mul(o)]);\n    });\n    return Object.assign({}, e, {\n      boundingBox: {\n        topLeft: s,\n        bottomRight: o\n      },\n      mesh: n,\n      scaledMesh: i\n    });\n  }\n\n  return Object.assign({}, e, {\n    boundingBox: {\n      topLeft: [t - 1 - e.boundingBox.topLeft[0], e.boundingBox.topLeft[1]],\n      bottomRight: [t - 1 - e.boundingBox.bottomRight[0], e.boundingBox.bottomRight[1]]\n    },\n    mesh: e.mesh.map(e => {\n      const s = e.slice(0);\n      return s[0] = t - 1 - e[0], s;\n    }),\n    scaledMesh: e.scaledMesh.map(e => {\n      const s = e.slice(0);\n      return s[0] = t - 1 - e[0], s;\n    })\n  });\n}\n\nclass FaceMesh {\n  constructor(e, t, s, o, n) {\n    this.pipeline = new Pipeline(e, t, MESH_MODEL_INPUT_WIDTH, MESH_MODEL_INPUT_HEIGHT, s, n), this.detectionConfidence = o;\n  }\n\n  static getAnnotations() {\n    return MESH_ANNOTATIONS;\n  }\n\n  static getUVCoords() {\n    return UV_COORDS;\n  }\n\n  async estimateFaces(e, t = !1, s = !1) {\n    const [, o] = getInputTensorDimensions$1(e),\n          n = tidy(() => (e instanceof Tensor || (e = browser.fromPixels(e)), e.toFloat().expandDims(0))),\n          i = env().get(\"WEBGL_PACK_DEPTHWISECONV\");\n    env().set(\"WEBGL_PACK_DEPTHWISECONV\", !0);\n    const r = await this.pipeline.predict(n);\n    return env().set(\"WEBGL_PACK_DEPTHWISECONV\", i), n.dispose(), null != r && r.length > 0 ? Promise.all(r.map(async (e, n) => {\n      const {\n        coords: i,\n        scaledCoords: r,\n        box: a,\n        flag: c\n      } = e;\n      let l = [c];\n      t || (l = l.concat([i, r, a.startPoint, a.endPoint]));\n      const d = await Promise.all(l.map(async e => e.array())),\n            h = d[0];\n\n      if (c.dispose(), h < this.detectionConfidence && this.pipeline.clearRegionOfInterest(n), t) {\n        const e = {\n          faceInViewConfidence: h,\n          mesh: i,\n          scaledMesh: r,\n          boundingBox: {\n            topLeft: a.startPoint.squeeze(),\n            bottomRight: a.endPoint.squeeze()\n          }\n        };\n        return s ? flipFaceHorizontal$1(e, o) : e;\n      }\n\n      const [u, p, f, m] = d.slice(1);\n      r.dispose(), i.dispose();\n      let g = {\n        faceInViewConfidence: h,\n        boundingBox: {\n          topLeft: f,\n          bottomRight: m\n        },\n        mesh: u,\n        scaledMesh: p\n      };\n      s && (g = flipFaceHorizontal$1(g, o));\n      const b = {};\n\n      for (const e in MESH_ANNOTATIONS) b[e] = MESH_ANNOTATIONS[e].map(e => g.scaledMesh[e]);\n\n      return g.annotations = b, g;\n    })) : [];\n  }\n\n}\n\nexport { load$1 as load, FaceMesh };","map":{"version":3,"sources":["/Users/craigpickard/Dev/web/hbo-client/node_modules/@tensorflow-models/facemesh/dist/facemesh.esm.js"],"names":["slice","add","div","sub","mul","concat2d","Tensor","tidy","concat","tensor1d","tensor2d","sigmoid","image","browser","env","reshape","stack","abs","loadGraphModel","disposeBox","e","startEndTensor","dispose","startPoint","endPoint","createBox","scaleBox","t","s","o","n","ANCHORS_CONFIG","strides","anchors","NUM_LANDMARKS","generateAnchors","length","i","r","Math","floor","a","c","push","decodeBounds","l","d","h","u","getInputTensorDimensions","shape","height","width","flipFaceHorizontal","topLeft","bottomRight","landmarks","map","probability","clone","scaleBoxFromPrediction","hasOwnProperty","box","squeeze","BlazeFaceModel","constructor","blazeFaceModel","maxFaces","anchorsData","inputSizeData","inputSize","iouThreshold","scoreThreshold","getBoundingBoxes","resizeBilinear","predict","console","warn","nonMaxSuppression","array","Promise","all","p","anchor","boxes","scaleFactor","estimateFaces","fromPixels","toFloat","expandDims","BLAZEFACE_MODEL_URL","load","inputWidth","inputHeight","fromTFHub","MESH_ANNOTATIONS","silhouette","lipsUpperOuter","lipsLowerOuter","lipsUpperInner","lipsLowerInner","rightEyeUpper0","rightEyeLower0","rightEyeUpper1","rightEyeLower1","rightEyeUpper2","rightEyeLower2","rightEyeLower3","rightEyebrowUpper","rightEyebrowLower","leftEyeUpper0","leftEyeLower0","leftEyeUpper1","leftEyeLower1","leftEyeUpper2","leftEyeLower2","leftEyeLower3","leftEyebrowUpper","leftEyebrowLower","midwayBetweenEyes","noseTip","noseBottom","noseRightCorner","noseLeftCorner","rightCheek","leftCheek","disposeBox$1","createBox$1","scaleBoxCoordinates","getBoxSize","getBoxCenter","cutBoxFromImageAndResize","transpose","cropAndResize","enlargeBox","LANDMARKS_COUNT","UPDATE_REGION_OF_INTEREST_IOU_THRESHOLD","Pipeline","regionsOfInterest","runsWithoutFaceDetector","boundingBoxDetector","meshDetector","meshWidth","meshHeight","maxContinuousChecks","shouldUpdateRegionsOfInterest","clearAllRegionsOfInterest","forEach","updateRegionsOfInterest","calculateLandmarksBoundingBox","coords","scaledCoords","flag","arraySync","max","min","clearRegionOfInterest","UV_COORDS","FACEMESH_GRAPHMODEL_PATH","MESH_MODEL_INPUT_WIDTH","MESH_MODEL_INPUT_HEIGHT","load$1","detectionConfidence","loadDetectorModel","loadMeshModel","FaceMesh","getInputTensorDimensions$1","flipFaceHorizontal$1","mesh","boundingBox","scaledMesh","Object","assign","pipeline","getAnnotations","getUVCoords","get","set","faceInViewConfidence","f","m","g","b","annotations"],"mappings":"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","sourcesContent":["/**\n    * @license\n    * Copyright 2020 Google LLC. All Rights Reserved.\n    * Licensed under the Apache License, Version 2.0 (the \"License\");\n    * you may not use this file except in compliance with the License.\n    * You may obtain a copy of the License at\n    *\n    * http://www.apache.org/licenses/LICENSE-2.0\n    *\n    * Unless required by applicable law or agreed to in writing, software\n    * distributed under the License is distributed on an \"AS IS\" BASIS,\n    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    * See the License for the specific language governing permissions and\n    * limitations under the License.\n    * =============================================================================\n    */\nimport{slice,add,div,sub,mul,concat2d,Tensor,tidy,concat,tensor1d,tensor2d,sigmoid,image,browser,env,reshape,stack,abs}from\"@tensorflow/tfjs-core\";import{loadGraphModel}from\"@tensorflow/tfjs-converter\";const disposeBox=e=>{e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose()},createBox=e=>({startEndTensor:e,startPoint:slice(e,[0,0],[-1,2]),endPoint:slice(e,[0,2],[-1,2])}),scaleBox=(e,t)=>{const s=mul(e.startPoint,t),o=mul(e.endPoint,t),n=concat2d([s,o],1);return createBox(n)},ANCHORS_CONFIG={strides:[8,16],anchors:[2,6]},NUM_LANDMARKS=6;function generateAnchors(e,t,s){const o=[];for(let n=0;n<s.strides.length;n++){const i=s.strides[n],r=Math.floor((t+i-1)/i),a=Math.floor((e+i-1)/i),c=s.anchors[n];for(let e=0;e<r;e++){const t=i*(e+.5);for(let e=0;e<a;e++){const s=i*(e+.5);for(let e=0;e<c;e++)o.push([s,t])}}}return o}function decodeBounds(e,t,s){const o=slice(e,[0,1],[-1,2]),n=add(o,t),i=slice(e,[0,3],[-1,2]),r=div(i,s),a=div(n,s),c=div(r,2),l=sub(a,c),d=add(a,c),h=mul(l,s),u=mul(d,s);return concat2d([h,u],1)}function getInputTensorDimensions(e){return e instanceof Tensor?[e.shape[0],e.shape[1]]:[e.height,e.width]}function flipFaceHorizontal(e,t){let s,o,n;if(e.topLeft instanceof Tensor&&e.bottomRight instanceof Tensor){const[i,r]=tidy(()=>[concat([sub(t-1,e.topLeft.slice(0,1)),e.topLeft.slice(1,1)]),concat([sub(t-1,e.bottomRight.slice(0,1)),e.bottomRight.slice(1,1)])]);s=i,o=r,null!=e.landmarks&&(n=tidy(()=>{const s=sub(tensor1d([t-1,0]),e.landmarks),o=tensor1d([1,-1]);return mul(s,o)}))}else{const[i,r]=e.topLeft,[a,c]=e.bottomRight;s=[t-1-i,r],o=[t-1-a,c],null!=e.landmarks&&(n=e.landmarks.map(e=>[t-1-e[0],e[1]]))}const i={topLeft:s,bottomRight:o};return null!=n&&(i.landmarks=n),null!=e.probability&&(i.probability=e.probability instanceof Tensor?e.probability.clone():e.probability),i}function scaleBoxFromPrediction(e,t){return tidy(()=>{let s;return s=e.hasOwnProperty(\"box\")?e.box:e,scaleBox(s,t).startEndTensor.squeeze()})}class BlazeFaceModel{constructor(e,t,s,o,n,i){this.blazeFaceModel=e,this.width=t,this.height=s,this.maxFaces=o,this.anchorsData=generateAnchors(t,s,ANCHORS_CONFIG),this.anchors=tensor2d(this.anchorsData),this.inputSizeData=[t,s],this.inputSize=tensor1d([t,s]),this.iouThreshold=n,this.scoreThreshold=i}async getBoundingBoxes(e,t,s=!0){const[o,n,i]=tidy(()=>{const t=e.resizeBilinear([this.width,this.height]),s=mul(sub(t.div(255),.5),2),o=this.blazeFaceModel.predict(s).squeeze(),n=decodeBounds(o,this.anchors,this.inputSize),i=slice(o,[0,0],[-1,1]);return[o,n,sigmoid(i).squeeze()]}),r=console.warn;console.warn=(()=>{});const a=image.nonMaxSuppression(n,i,this.maxFaces,this.iouThreshold,this.scoreThreshold);console.warn=r;const c=await a.array();a.dispose();let l=c.map(e=>slice(n,[e,0],[1,-1]));t||(l=await Promise.all(l.map(async e=>{const t=await e.array();return e.dispose(),t})));const d=e.shape[1],h=e.shape[2];let u;u=t?div([h,d],this.inputSize):[h/this.inputSizeData[0],d/this.inputSizeData[1]];const p=[];for(let e=0;e<l.length;e++){const n=l[e],r=tidy(()=>{const r=createBox(n instanceof Tensor?n:tensor2d(n));if(!s)return r;const a=c[e];let l;return l=t?this.anchors.slice([a,0],[1,2]):this.anchorsData[a],{box:r,landmarks:slice(o,[a,NUM_LANDMARKS-1],[1,-1]).squeeze().reshape([NUM_LANDMARKS,-1]),probability:slice(i,[a],[1]),anchor:l}});p.push(r)}return n.dispose(),i.dispose(),o.dispose(),{boxes:p,scaleFactor:u}}async estimateFaces(e,t=!1,s=!1,o=!0){const[,n]=getInputTensorDimensions(e),i=tidy(()=>(e instanceof Tensor||(e=browser.fromPixels(e)),e.toFloat().expandDims(0))),{boxes:r,scaleFactor:a}=await this.getBoundingBoxes(i,t,o);return i.dispose(),t?r.map(e=>{const t=scaleBoxFromPrediction(e,a);let i={topLeft:t.slice([0],[2]),bottomRight:t.slice([2],[2])};if(o){const{landmarks:t,probability:s,anchor:o}=e,n=t.add(o).mul(a);i.landmarks=n,i.probability=s}return s&&(i=flipFaceHorizontal(i,n)),i}):Promise.all(r.map(async e=>{const t=scaleBoxFromPrediction(e,a);let i;if(o){const[s,o,n]=await Promise.all([e.landmarks,t,e.probability].map(async e=>e.array())),r=e.anchor,[c,l]=a,d=s.map(e=>[(e[0]+r[0])*c,(e[1]+r[1])*l]);i={topLeft:o.slice(0,2),bottomRight:o.slice(2),landmarks:d,probability:n},disposeBox(e.box),e.landmarks.dispose(),e.probability.dispose()}else{const e=await t.array();i={topLeft:e.slice(0,2),bottomRight:e.slice(2)}}return t.dispose(),s&&(i=flipFaceHorizontal(i,n)),i}))}}const BLAZEFACE_MODEL_URL=\"https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1\";async function load({maxFaces:e=10,inputWidth:t=128,inputHeight:s=128,iouThreshold:o=.3,scoreThreshold:n=.75}={}){const i=await loadGraphModel(BLAZEFACE_MODEL_URL,{fromTFHub:!0});return new BlazeFaceModel(i,t,s,e,o,n)}const MESH_ANNOTATIONS={silhouette:[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109],lipsUpperOuter:[61,185,40,39,37,0,267,269,270,409,291],lipsLowerOuter:[146,91,181,84,17,314,405,321,375,291],lipsUpperInner:[78,191,80,81,82,13,312,311,310,415,308],lipsLowerInner:[78,95,88,178,87,14,317,402,318,324,308],rightEyeUpper0:[246,161,160,159,158,157,173],rightEyeLower0:[33,7,163,144,145,153,154,155,133],rightEyeUpper1:[247,30,29,27,28,56,190],rightEyeLower1:[130,25,110,24,23,22,26,112,243],rightEyeUpper2:[113,225,224,223,222,221,189],rightEyeLower2:[226,31,228,229,230,231,232,233,244],rightEyeLower3:[143,111,117,118,119,120,121,128,245],rightEyebrowUpper:[156,70,63,105,66,107,55,193],rightEyebrowLower:[35,124,46,53,52,65],leftEyeUpper0:[466,388,387,386,385,384,398],leftEyeLower0:[263,249,390,373,374,380,381,382,362],leftEyeUpper1:[467,260,259,257,258,286,414],leftEyeLower1:[359,255,339,254,253,252,256,341,463],leftEyeUpper2:[342,445,444,443,442,441,413],leftEyeLower2:[446,261,448,449,450,451,452,453,464],leftEyeLower3:[372,340,346,347,348,349,350,357,465],leftEyebrowUpper:[383,300,293,334,296,336,285,417],leftEyebrowLower:[265,353,276,283,282,295],midwayBetweenEyes:[168],noseTip:[1],noseBottom:[2],noseRightCorner:[98],noseLeftCorner:[327],rightCheek:[205],leftCheek:[425]};function disposeBox$1(e){null!=e&&null!=e.startPoint&&(e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose())}function createBox$1(e,t,s){return{startEndTensor:e,startPoint:null!=t?t:slice(e,[0,0],[-1,2]),endPoint:null!=s?s:slice(e,[0,2],[-1,2])}}function scaleBoxCoordinates(e,t){const s=mul(e.startPoint,t),o=mul(e.endPoint,t);return createBox$1(concat2d([s,o],1))}function getBoxSize(e){return tidy(()=>{const t=sub(e.endPoint,e.startPoint);return abs(t)})}function getBoxCenter(e){return tidy(()=>{const t=div(sub(e.endPoint,e.startPoint),2);return add(e.startPoint,t)})}function cutBoxFromImageAndResize(e,t,s){const o=t.shape[1],n=t.shape[2],i=e.startEndTensor;return tidy(()=>{const e=concat2d([i.slice([0,1],[-1,1]),i.slice([0,0],[-1,1]),i.slice([0,3],[-1,1]),i.slice([0,2],[-1,1])],0),r=div(e.transpose(),[o,n,o,n]);return image.cropAndResize(t,r,[0],s)})}function enlargeBox(e,t=1.5){return tidy(()=>{const s=getBoxCenter(e),o=getBoxSize(e),n=mul(div(o,2),t),i=sub(s,n),r=add(s,n);return createBox$1(concat2d([i,r],1),i,r)})}const LANDMARKS_COUNT=468,UPDATE_REGION_OF_INTEREST_IOU_THRESHOLD=.25;class Pipeline{constructor(e,t,s,o,n,i){this.regionsOfInterest=[],this.runsWithoutFaceDetector=0,this.boundingBoxDetector=e,this.meshDetector=t,this.meshWidth=s,this.meshHeight=o,this.maxContinuousChecks=n,this.maxFaces=i}async predict(e){if(this.shouldUpdateRegionsOfInterest()){const t=!0,s=!1,{boxes:o,scaleFactor:n}=await this.boundingBoxDetector.getBoundingBoxes(e,t,s);if(0===o.length)return n.dispose(),this.clearAllRegionsOfInterest(),null;const i=o.map(e=>enlargeBox(scaleBoxCoordinates(e,n)));o.forEach(disposeBox$1),this.updateRegionsOfInterest(i),this.runsWithoutFaceDetector=0}else this.runsWithoutFaceDetector++;return tidy(()=>this.regionsOfInterest.map((t,s)=>{const o=cutBoxFromImageAndResize(t,e,[this.meshHeight,this.meshWidth]).div(255),[,n,i]=this.meshDetector.predict(o),r=reshape(i,[-1,3]),a=div(getBoxSize(t),[this.meshWidth,this.meshHeight]),c=mul(r,a.concat(tensor2d([1],[1,1]),1)).add(t.startPoint.concat(tensor2d([0],[1,1]),1)),l=this.calculateLandmarksBoundingBox(c);return disposeBox$1(this.regionsOfInterest[s]),this.regionsOfInterest[s]=l,{coords:r,scaledCoords:c,box:l,flag:n.squeeze()}}))}updateRegionsOfInterest(e){for(let t=0;t<e.length;t++){const s=e[t],o=this.regionsOfInterest[t];let n=0;if(o&&o.startPoint){const[e,t,i,r]=s.startEndTensor.arraySync()[0],[a,c,l,d]=o.startEndTensor.arraySync()[0],h=Math.max(e,a),u=Math.max(t,c),p=(Math.min(i,l)-h)*(Math.min(r,d)-u);n=p/((i-e)*(r-t)+(l-a)*(d-t)-p)}n>UPDATE_REGION_OF_INTEREST_IOU_THRESHOLD?disposeBox$1(s):(this.regionsOfInterest[t]=s,disposeBox$1(o))}for(let t=e.length;t<this.regionsOfInterest.length;t++)disposeBox$1(this.regionsOfInterest[t]);this.regionsOfInterest=this.regionsOfInterest.slice(0,e.length)}clearRegionOfInterest(e){null!=this.regionsOfInterest[e]&&(disposeBox$1(this.regionsOfInterest[e]),this.regionsOfInterest=[...this.regionsOfInterest.slice(0,e),...this.regionsOfInterest.slice(e+1)])}clearAllRegionsOfInterest(){for(let e=0;e<this.regionsOfInterest.length;e++)disposeBox$1(this.regionsOfInterest[e]);this.regionsOfInterest=[]}shouldUpdateRegionsOfInterest(){const e=this.regionsOfInterest.length,t=0===e;return 1===this.maxFaces||t?t:e!==this.maxFaces&&this.runsWithoutFaceDetector>=this.maxContinuousChecks}calculateLandmarksBoundingBox(e){const t=e.slice([0,0],[LANDMARKS_COUNT,1]),s=e.slice([0,1],[LANDMARKS_COUNT,1]);return enlargeBox(createBox$1(stack([t.min(),s.min(),t.max(),s.max()]).expandDims(0)))}}const UV_COORDS=[[.499976992607117,.652534008026123],[.500025987625122,.547487020492554],[.499974012374878,.602371990680695],[.482113003730774,.471979022026062],[.500150978565216,.527155995368958],[.499909996986389,.498252987861633],[.499523013830185,.40106201171875],[.289712011814117,.380764007568359],[.499954998493195,.312398016452789],[.499987006187439,.269918978214264],[.500023007392883,.107050001621246],[.500023007392883,.666234016418457],[.5000159740448,.679224014282227],[.500023007392883,.692348003387451],[.499976992607117,.695277988910675],[.499976992607117,.70593398809433],[.499976992607117,.719385027885437],[.499976992607117,.737019002437592],[.499967992305756,.781370997428894],[.499816000461578,.562981009483337],[.473773002624512,.573909997940063],[.104906998574734,.254140973091125],[.365929991006851,.409575998783112],[.338757991790771,.41302502155304],[.311120003461838,.409460008144379],[.274657994508743,.389131009578705],[.393361985683441,.403706014156342],[.345234006643295,.344011008739471],[.370094001293182,.346076011657715],[.319321990013123,.347265005111694],[.297903001308441,.353591024875641],[.24779200553894,.410809993743896],[.396889001131058,.842755019664764],[.280097991228104,.375599980354309],[.106310002505779,.399955987930298],[.2099249958992,.391353011131287],[.355807989835739,.534406006336212],[.471751004457474,.65040397644043],[.474155008792877,.680191993713379],[.439785003662109,.657229006290436],[.414617002010345,.66654098033905],[.450374007225037,.680860996246338],[.428770989179611,.682690978050232],[.374971002340317,.727805018424988],[.486716985702515,.547628998756409],[.485300987958908,.527395009994507],[.257764995098114,.314490020275116],[.401223003864288,.455172002315521],[.429818987846375,.548614978790283],[.421351999044418,.533740997314453],[.276895999908447,.532056987285614],[.483370006084442,.499586999416351],[.33721199631691,.282882988452911],[.296391993761063,.293242990970612],[.169294998049736,.193813979625702],[.447580009698868,.302609980106354],[.392390012741089,.353887975215912],[.354490011930466,.696784019470215],[.067304998636246,.730105042457581],[.442739009857178,.572826027870178],[.457098007202148,.584792017936707],[.381974011659622,.694710969924927],[.392388999462128,.694203019142151],[.277076005935669,.271932005882263],[.422551989555359,.563233017921448],[.385919004678726,.281364023685455],[.383103013038635,.255840003490448],[.331431001424789,.119714021682739],[.229923993349075,.232002973556519],[.364500999450684,.189113974571228],[.229622006416321,.299540996551514],[.173287004232407,.278747975826263],[.472878992557526,.666198015213013],[.446828007698059,.668527007102966],[.422762006521225,.673889994621277],[.445307999849319,.580065965652466],[.388103008270264,.693961024284363],[.403039008378983,.706539988517761],[.403629004955292,.693953037261963],[.460041999816895,.557139039039612],[.431158006191254,.692366003990173],[.452181994915009,.692366003990173],[.475387006998062,.692366003990173],[.465828001499176,.779190003871918],[.472328990697861,.736225962638855],[.473087012767792,.717857003211975],[.473122000694275,.704625964164734],[.473033010959625,.695277988910675],[.427942007780075,.695277988910675],[.426479011774063,.703539967536926],[.423162013292313,.711845993995667],[.4183090031147,.720062971115112],[.390094995498657,.639572978019714],[.013953999616206,.560034036636353],[.499913990497589,.58014702796936],[.413199990987778,.69539999961853],[.409626007080078,.701822996139526],[.468080013990402,.601534962654114],[.422728985548019,.585985004901886],[.463079988956451,.593783974647522],[.37211999297142,.47341400384903],[.334562003612518,.496073007583618],[.411671012639999,.546965003013611],[.242175996303558,.14767599105835],[.290776997804642,.201445996761322],[.327338010072708,.256527006626129],[.399509996175766,.748921036720276],[.441727995872498,.261676013469696],[.429764986038208,.187834024429321],[.412198007106781,.108901023864746],[.288955003023148,.398952007293701],[.218936994671822,.435410976409912],[.41278201341629,.398970007896423],[.257135003805161,.355440020561218],[.427684992551804,.437960982322693],[.448339998722076,.536936044692993],[.178560003638268,.45755398273468],[.247308000922203,.457193970680237],[.286267012357712,.467674970626831],[.332827985286713,.460712015628815],[.368755996227264,.447206974029541],[.398963987827301,.432654976844788],[.476410001516342,.405806005001068],[.189241006970406,.523923993110657],[.228962004184723,.348950982093811],[.490725994110107,.562400996685028],[.404670000076294,.485132992267609],[.019469000399113,.401564002037048],[.426243007183075,.420431017875671],[.396993011236191,.548797011375427],[.266469985246658,.376977026462555],[.439121007919312,.51895797252655],[.032313998788595,.644356966018677],[.419054001569748,.387154996395111],[.462783008813858,.505746960639954],[.238978996872902,.779744982719421],[.198220998048782,.831938028335571],[.107550002634525,.540755033493042],[.183610007166862,.740257024765015],[.134409993886948,.333683013916016],[.385764002799988,.883153975009918],[.490967005491257,.579378008842468],[.382384985685349,.508572995662689],[.174399003386497,.397670984268188],[.318785011768341,.39623498916626],[.343364000320435,.400596976280212],[.396100014448166,.710216999053955],[.187885001301765,.588537991046906],[.430987000465393,.944064974784851],[.318993002176285,.898285031318665],[.266247987747192,.869701027870178],[.500023007392883,.190576016902924],[.499976992607117,.954452991485596],[.366169989109039,.398822009563446],[.393207013607025,.39553701877594],[.410373002290726,.391080021858215],[.194993004202843,.342101991176605],[.388664990663528,.362284004688263],[.365961998701096,.355970978736877],[.343364000320435,.355356991291046],[.318785011768341,.35834002494812],[.301414996385574,.363156020641327],[.058132998645306,.319076001644135],[.301414996385574,.387449026107788],[.499987989664078,.618434011936188],[.415838003158569,.624195992946625],[.445681989192963,.566076993942261],[.465844005346298,.620640993118286],[.49992299079895,.351523995399475],[.288718998432159,.819945991039276],[.335278987884521,.852819979190826],[.440512001514435,.902418971061707],[.128294005990028,.791940987110138],[.408771991729736,.373893976211548],[.455606997013092,.451801002025604],[.499877005815506,.908990025520325],[.375436991453171,.924192011356354],[.11421000212431,.615022003650665],[.448662012815475,.695277988910675],[.4480200111866,.704632043838501],[.447111994028091,.715808033943176],[.444831997156143,.730794012546539],[.430011987686157,.766808986663818],[.406787008047104,.685672998428345],[.400738000869751,.681069016456604],[.392399996519089,.677703022956848],[.367855995893478,.663918972015381],[.247923001646996,.601333022117615],[.452769994735718,.420849978923798],[.43639200925827,.359887003898621],[.416164010763168,.368713974952698],[.413385987281799,.692366003990173],[.228018000721931,.683571994304657],[.468268007040024,.352671027183533],[.411361992359161,.804327011108398],[.499989002943039,.469825029373169],[.479153990745544,.442654013633728],[.499974012374878,.439637005329132],[.432112008333206,.493588984012604],[.499886006116867,.866917014122009],[.49991300702095,.821729004383087],[.456548988819122,.819200992584229],[.344549000263214,.745438992977142],[.37890899181366,.574010014533997],[.374292999505997,.780184984207153],[.319687992334366,.570737957954407],[.357154995203018,.604269981384277],[.295284003019333,.621580958366394],[.447750002145767,.862477004528046],[.410986006259918,.508723020553589],[.31395098567009,.775308012962341],[.354128003120422,.812552988529205],[.324548006057739,.703992962837219],[.189096003770828,.646299958229065],[.279776990413666,.71465802192688],[.1338230073452,.682700991630554],[.336768001317978,.644733011722565],[.429883986711502,.466521978378296],[.455527991056442,.548622965812683],[.437114000320435,.558896005153656],[.467287987470627,.529924988746643],[.414712011814117,.335219979286194],[.37704598903656,.322777986526489],[.344107985496521,.320150971412659],[.312875986099243,.32233202457428],[.283526003360748,.333190023899078],[.241245999932289,.382785975933075],[.102986000478268,.468762993812561],[.267612010240555,.424560010433197],[.297879010438919,.433175981044769],[.333433985710144,.433878004550934],[.366427004337311,.426115989685059],[.396012008190155,.416696012020111],[.420121014118195,.41022801399231],[.007561000064015,.480777025222778],[.432949006557465,.569517970085144],[.458638995885849,.479089021682739],[.473466008901596,.545744001865387],[.476087987422943,.563830018043518],[.468472003936768,.555056989192963],[.433990985155106,.582361996173859],[.483518004417419,.562983989715576],[.482482999563217,.57784903049469],[.42645001411438,.389798998832703],[.438998997211456,.39649498462677],[.450067013502121,.400434017181396],[.289712011814117,.368252992630005],[.276670008897781,.363372981548309],[.517862021923065,.471948027610779],[.710287988185883,.380764007568359],[.526226997375488,.573909997940063],[.895093023777008,.254140973091125],[.634069979190826,.409575998783112],[.661242008209229,.41302502155304],[.688880026340485,.409460008144379],[.725341975688934,.389131009578705],[.606630027294159,.40370500087738],[.654766023159027,.344011008739471],[.629905998706818,.346076011657715],[.680678009986877,.347265005111694],[.702096998691559,.353591024875641],[.75221198797226,.410804986953735],[.602918028831482,.842862963676453],[.719901978969574,.375599980354309],[.893692970275879,.399959981441498],[.790081977844238,.391354024410248],[.643998026847839,.534487962722778],[.528249025344849,.65040397644043],[.525849997997284,.680191040039062],[.560214996337891,.657229006290436],[.585384011268616,.66654098033905],[.549625992774963,.680860996246338],[.57122802734375,.682691991329193],[.624852001667023,.72809898853302],[.513050019741058,.547281980514526],[.51509702205658,.527251958847046],[.742246985435486,.314507007598877],[.598631024360657,.454979002475739],[.570338010787964,.548575043678284],[.578631997108459,.533622980117798],[.723087012767792,.532054007053375],[.516445994377136,.499638974666595],[.662801027297974,.282917976379395],[.70362401008606,.293271005153656],[.830704987049103,.193813979625702],[.552385985851288,.302568018436432],[.607609987258911,.353887975215912],[.645429015159607,.696707010269165],[.932694971561432,.730105042457581],[.557260990142822,.572826027870178],[.542901992797852,.584792017936707],[.6180260181427,.694710969924927],[.607590973377228,.694203019142151],[.722943007946014,.271963000297546],[.577413976192474,.563166975975037],[.614082992076874,.281386971473694],[.616907000541687,.255886018276215],[.668509006500244,.119913995265961],[.770092010498047,.232020974159241],[.635536015033722,.189248979091644],[.77039098739624,.299556016921997],[.826722025871277,.278755009174347],[.527121007442474,.666198015213013],[.553171992301941,.668527007102966],[.577238023281097,.673889994621277],[.554691970348358,.580065965652466],[.611896991729736,.693961024284363],[.59696102142334,.706539988517761],[.596370995044708,.693953037261963],[.539958000183105,.557139039039612],[.568841993808746,.692366003990173],[.547818005084991,.692366003990173],[.52461302280426,.692366003990173],[.534089982509613,.779141008853912],[.527670979499817,.736225962638855],[.526912987232208,.717857003211975],[.526877999305725,.704625964164734],[.526966989040375,.695277988910675],[.572058022022247,.695277988910675],[.573521018028259,.703539967536926],[.57683801651001,.711845993995667],[.581691026687622,.720062971115112],[.609944999217987,.639909982681274],[.986046016216278,.560034036636353],[.5867999792099,.69539999961853],[.590372025966644,.701822996139526],[.531915009021759,.601536989212036],[.577268004417419,.585934996604919],[.536915004253387,.593786001205444],[.627542972564697,.473352015018463],[.665585994720459,.495950996875763],[.588353991508484,.546862006187439],[.757824003696442,.14767599105835],[.709249973297119,.201507985591888],[.672684013843536,.256581008434296],[.600408971309662,.74900496006012],[.55826598405838,.261672019958496],[.570303976535797,.187870979309082],[.588165998458862,.109044015407562],[.711045026779175,.398952007293701],[.781069993972778,.435405015945435],[.587247014045715,.398931980133057],[.742869973182678,.355445981025696],[.572156012058258,.437651991844177],[.55186802148819,.536570012569427],[.821442008018494,.457556009292603],[.752701997756958,.457181990146637],[.71375697851181,.467626988887787],[.66711300611496,.460672974586487],[.631101012229919,.447153985500336],[.6008620262146,.432473003864288],[.523481011390686,.405627012252808],[.810747981071472,.523926019668579],[.771045982837677,.348959028720856],[.509127020835876,.562718033790588],[.595292985439301,.485023975372314],[.980530977249146,.401564002037048],[.573499977588654,.420000016689301],[.602994978427887,.548687994480133],[.733529984951019,.376977026462555],[.560611009597778,.519016981124878],[.967685997486115,.644356966018677],[.580985009670258,.387160003185272],[.537728011608124,.505385041236877],[.760966002941132,.779752969741821],[.801778972148895,.831938028335571],[.892440974712372,.54076099395752],[.816350996494293,.740260004997253],[.865594983100891,.333687007427216],[.614073991775513,.883246004581451],[.508952975273132,.579437971115112],[.617941975593567,.508316040039062],[.825608015060425,.397674977779388],[.681214988231659,.39623498916626],[.656635999679565,.400596976280212],[.603900015354156,.710216999053955],[.81208598613739,.588539004325867],[.56801301240921,.944564998149872],[.681007981300354,.898285031318665],[.733752012252808,.869701027870178],[.633830010890961,.398822009563446],[.606792986392975,.39553701877594],[.589659988880157,.391062021255493],[.805015981197357,.342108011245728],[.611334979534149,.362284004688263],[.634037971496582,.355970978736877],[.656635999679565,.355356991291046],[.681214988231659,.35834002494812],[.698584973812103,.363156020641327],[.941866993904114,.319076001644135],[.698584973812103,.387449026107788],[.584177017211914,.624107003211975],[.554318010807037,.566076993942261],[.534153997898102,.62064003944397],[.711217999458313,.819975018501282],[.664629995822906,.852871000766754],[.559099972248077,.902631998062134],[.871706008911133,.791940987110138],[.591234028339386,.373893976211548],[.544341027736664,.451583981513977],[.624562978744507,.924192011356354],[.88577002286911,.615028977394104],[.551338016986847,.695277988910675],[.551980018615723,.704632043838501],[.552887976169586,.715808033943176],[.555167973041534,.730794012546539],[.569944024085999,.767035007476807],[.593203008174896,.685675978660583],[.599261999130249,.681069016456604],[.607599973678589,.677703022956848],[.631937980651855,.663500010967255],[.752032995223999,.601315021514893],[.547226011753082,.420395016670227],[.563543975353241,.359827995300293],[.583841025829315,.368713974952698],[.586614012718201,.692366003990173],[.771915018558502,.683578014373779],[.531597018241882,.352482974529266],[.588370978832245,.804440975189209],[.52079701423645,.442565023899078],[.567984998226166,.493479013442993],[.543282985687256,.819254994392395],[.655317008495331,.745514988899231],[.621008992195129,.574018001556396],[.625559985637665,.78031200170517],[.680198013782501,.570719003677368],[.64276397228241,.604337990283966],[.704662978649139,.621529996395111],[.552012026309967,.862591981887817],[.589071989059448,.508637011051178],[.685944974422455,.775357007980347],[.645735025405884,.812640011310577],[.675342977046967,.703978002071381],[.810858011245728,.646304965019226],[.72012197971344,.714666962623596],[.866151988506317,.682704985141754],[.663187026977539,.644596993923187],[.570082008838654,.466325998306274],[.544561982154846,.548375964164734],[.562758982181549,.558784961700439],[.531987011432648,.530140042304993],[.585271000862122,.335177004337311],[.622952997684479,.32277899980545],[.655896008014679,.320163011550903],[.687132000923157,.322345972061157],[.716481983661652,.333200991153717],[.758756995201111,.382786989212036],[.897013008594513,.468769013881683],[.732392013072968,.424547016620636],[.70211398601532,.433162987232208],[.66652500629425,.433866024017334],[.633504986763,.426087975502014],[.603875994682312,.416586995124817],[.579657971858978,.409945011138916],[.992439985275269,.480777025222778],[.567192018032074,.569419980049133],[.54136598110199,.478899002075195],[.526564002037048,.546118021011353],[.523913025856018,.563830018043518],[.531529009342194,.555056989192963],[.566035985946655,.582329034805298],[.51631098985672,.563053965568542],[.5174720287323,.577877044677734],[.573594987392426,.389806985855103],[.560697972774506,.395331978797913],[.549755990505219,.399751007556915],[.710287988185883,.368252992630005],[.723330020904541,.363372981548309]],FACEMESH_GRAPHMODEL_PATH=\"https://tfhub.dev/mediapipe/tfjs-model/facemesh/1/default/1\",MESH_MODEL_INPUT_WIDTH=192,MESH_MODEL_INPUT_HEIGHT=192;async function load$1({maxContinuousChecks:e=5,detectionConfidence:t=.9,maxFaces:s=10,iouThreshold:o=.3,scoreThreshold:n=.75}={}){const[i,r]=await Promise.all([loadDetectorModel(s,o,n),loadMeshModel()]);return new FaceMesh(i,r,e,t,s)}async function loadDetectorModel(e,t,s){return load({maxFaces:e,iouThreshold:t,scoreThreshold:s})}async function loadMeshModel(){return loadGraphModel(FACEMESH_GRAPHMODEL_PATH,{fromTFHub:!0})}function getInputTensorDimensions$1(e){return e instanceof Tensor?[e.shape[0],e.shape[1]]:[e.height,e.width]}function flipFaceHorizontal$1(e,t){if(e.mesh instanceof Tensor){const[s,o,n,i]=tidy(()=>{const s=tensor1d([t-1,0,0]),o=tensor1d([1,-1,1]);return tidy(()=>[concat([sub(t-1,e.boundingBox.topLeft.slice(0,1)),e.boundingBox.topLeft.slice(1,1)]),concat([sub(t-1,e.boundingBox.bottomRight.slice(0,1)),e.boundingBox.bottomRight.slice(1,1)]),sub(s,e.mesh).mul(o),sub(s,e.scaledMesh).mul(o)])});return Object.assign({},e,{boundingBox:{topLeft:s,bottomRight:o},mesh:n,scaledMesh:i})}return Object.assign({},e,{boundingBox:{topLeft:[t-1-e.boundingBox.topLeft[0],e.boundingBox.topLeft[1]],bottomRight:[t-1-e.boundingBox.bottomRight[0],e.boundingBox.bottomRight[1]]},mesh:e.mesh.map(e=>{const s=e.slice(0);return s[0]=t-1-e[0],s}),scaledMesh:e.scaledMesh.map(e=>{const s=e.slice(0);return s[0]=t-1-e[0],s})})}class FaceMesh{constructor(e,t,s,o,n){this.pipeline=new Pipeline(e,t,MESH_MODEL_INPUT_WIDTH,MESH_MODEL_INPUT_HEIGHT,s,n),this.detectionConfidence=o}static getAnnotations(){return MESH_ANNOTATIONS}static getUVCoords(){return UV_COORDS}async estimateFaces(e,t=!1,s=!1){const[,o]=getInputTensorDimensions$1(e),n=tidy(()=>(e instanceof Tensor||(e=browser.fromPixels(e)),e.toFloat().expandDims(0))),i=env().get(\"WEBGL_PACK_DEPTHWISECONV\");env().set(\"WEBGL_PACK_DEPTHWISECONV\",!0);const r=await this.pipeline.predict(n);return env().set(\"WEBGL_PACK_DEPTHWISECONV\",i),n.dispose(),null!=r&&r.length>0?Promise.all(r.map(async(e,n)=>{const{coords:i,scaledCoords:r,box:a,flag:c}=e;let l=[c];t||(l=l.concat([i,r,a.startPoint,a.endPoint]));const d=await Promise.all(l.map(async e=>e.array())),h=d[0];if(c.dispose(),h<this.detectionConfidence&&this.pipeline.clearRegionOfInterest(n),t){const e={faceInViewConfidence:h,mesh:i,scaledMesh:r,boundingBox:{topLeft:a.startPoint.squeeze(),bottomRight:a.endPoint.squeeze()}};return s?flipFaceHorizontal$1(e,o):e}const[u,p,f,m]=d.slice(1);r.dispose(),i.dispose();let g={faceInViewConfidence:h,boundingBox:{topLeft:f,bottomRight:m},mesh:u,scaledMesh:p};s&&(g=flipFaceHorizontal$1(g,o));const b={};for(const e in MESH_ANNOTATIONS)b[e]=MESH_ANNOTATIONS[e].map(e=>g.scaledMesh[e]);return g.annotations=b,g})):[]}}export{load$1 as load,FaceMesh};\n"]},"metadata":{},"sourceType":"module"}